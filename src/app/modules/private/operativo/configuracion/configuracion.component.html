<app-header></app-header>
<p-confirmDialog />
    <p-messages [value]="messages"></p-messages>
        <p-panel header="Configuración de tareas">
            <div class="flex border-round bg-gray-100 m-1 border-1 border-300">
                <div class="w-12 flex align-items-center justify-content-center">
                    <div class="formgrid grid w-12 flex  pt-5">
                        
                        <div class="field col-12 md:col-11">
                        </div>
                        
                        <div class="field col-12 md:col-1 text-right">
                            <p-button label="Agregar" 
                                    pTooltip="Agregar" 
                                    [outlined]="true" 
                                    severity="secondary" 
                                    [routerLink]="['/form-configuracion',0,codigoServicioCliente]"
                                    styleClass="w-full"/>
                        </div>
                    </div>
                </div>
                
            </div>
            <div class="flex border-round p-1 m-1 border-1 border-300">
                <div class="w-12 p-1 flex align-items-center justify-content-center">
                    <p-table
                        [value]="listarJobCliente"
                        selectionMode="single" 
                        class="w-full"
                        [styleClass]="'p-datatable-sm'">
                        <ng-template pTemplate="header">
                            <tr>
                                <th style="width:10%">Entorno</th>
                                <th style="width:20%">Servicio</th>
                                <th style="width:10%">Programación</th>
                                <th style="width:5%">Lunes</th>
                                <th style="width:5%">Martes</th>
                                <th style="width:5%">Miercoles</th>
                                <th style="width:5%">Jueves</th>
                                <th style="width:5%">Viernes</th>
                                <th style="width:5%">Sabado</th>
                                <th style="width:5%">Domingo</th>
                                <th style="width:5%">Estado</th>
                                <th style="width:10%; text-align: center;">Acciones</th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-job>
                            <tr>
                                <td>{{job.descripcionEntorno}}</td>
                                <td>{{job.nombreServicioAplicacion}}</td>
                                <td>{{job.descripcionJobCliente}}</td>
                                <td>{{job.horaLunes}}</td>
                                <td>{{job.horaMartes}}</td>
                                <td>{{job.horaMiercoles}}</td>
                                <td>{{job.horaJueves}}</td>
                                <td>{{job.horaViernes}}</td>
                                <td>{{job.horaSabado}}</td>
                                <td>{{job.horaDomingo}}</td>
                                <td>{{job.estadoRegistro}}</td>
                                <td style="text-align: center;">
                                    <p-button icon="pi pi-file-edit" 
                                            [rounded]="true" 
                                            [text]="true" 
                                            type="button" 
                                            pRipple
                                            severity="secondary"
                                            pTooltip="Editar" 
                                            tooltipPosition="top" 
                                            [disabled]="esBotonDeshabilitado(job)" 
                                            [routerLink]="['/form-configuracion', job.codigoJobCliente, codigoServicioCliente ]"/>
                                    <p-button icon="pi pi-trash" 
                                            [rounded]="true" 
                                            [text]="true" 
                                            type="button" 
                                            pRipple
                                            severity="secondary"
                                            pTooltip="Dar de baja" 
                                            tooltipPosition="left"
                                            [disabled]="esBotonDeshabilitado(job)" 
                                            (click)="eliminarFila($event, job)"/>
                                </td>
                            </tr>
                        </ng-template>
                    </p-table>
                    
                </div> 
            </div>
        </p-panel>
    
